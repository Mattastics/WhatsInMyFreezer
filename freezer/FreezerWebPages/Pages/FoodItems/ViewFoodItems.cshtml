@page
@model FreezerWebPages.Pages.ViewFoodItemsModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<h2>Food Items in Freezer</h2>

<form method="get" class="form-inline">
    <input type="text" class="form-control mb-2 mr-sm-2" name="searchString" value="@Model.SearchString" placeholder="Search items..." />
    <button type="submit" class="btn btn-primary mb-2">Search</button>
</form>

<table>
    <thead>
        <tr>
            <th>
                <a asp-page="./ViewFoodItems" asp-route-sortOrder="@(Model.CurrentSort == "name_desc" ? "name" : "name_desc")">Name</a>
            </th>
            <th>Quantity</th>
            <th>
                <a asp-page="./ViewFoodItems" asp-route-sortOrder="@(Model.CurrentSort == "date_desc" ? "date" : "date_desc")">Date Added</a>
            </th>
            <th>
                <a asp-page="./ViewFoodItems" asp-route-sortOrder="@(Model.CurrentSort == "category_desc" ? "category" : "category_desc")">Category</a>
            </th>

        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.FoodItems)
        {
            <tr>
                <td>@item.Name</td>
                <td>@item.Quantity</td>
                <td>@item.DateAdded.ToShortDateString()</td>
                <td>@item.Category</td>
            </tr>
        }
    </tbody>
</table></table>